(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{2798:function(t,e,r){"use strict";r.r(e);r(254);var o=r(0),n=(r(10),r(2)),c=r(46);var l={name:"SearchPage",layout:"app",scrollToTop:!0,asyncData:function(t){t.app,t.params,t.store,t.redirect,t.res;return{icons:[],error:void 0}},data:function(){return{icons:[],term:"",page:1,isLoading:!1,allIconsLoaded:!1,fetchComplete:!1,currentPlatform:void 0,parsedParams:void 0,fetchErrorsCount:0}},computed:Object(o.a)({},Object(n.e)({iconsGridStyle:function(t){return t.ui.iconsGridStyle},extendedIconsGridStyle:function(t){return t.ui.extendedIconsGridStyle},mode:function(t){return t.ui.mode},lang:function(t){return t.i18n.locale},platform:function(t){return t.platform},platforms:function(t){return t.appInfo.platforms}}),{searchTitle:function(){var t=this.$route.params.term;return this.$utils.uppercaseFirstLetter(this.$utils.prettifyValue(t))},title:function(){return this.$t("PLATFORMS.".concat(this.platform.apiCode,".SEARCH_TITLE"),{term:this.searchTitle},"".concat(this.searchTitle," Icon, ").concat(this.platform.title))},extendedGrid:function(){return"all"===this.$route.params.platform},gridStyle:function(){return this.extendedGrid?this.extendedIconsGridStyle:this.iconsGridStyle},isScrollDisabled:function(){return this.isLoading||this.allIconsLoaded},formatName:function(){if(!this.parsedParams)return null;this.parsedParams.format;return"png"===this.parsedParams.format?" / PNG":"vector"===this.parsedParams.format?" / "+this.$t("ICON.ICONS.FORMAT_VECTOR"):null}}),watch:{platform:function(){this.currentPlatform=this.platform.apiCode}},mounted:function(){this.currentPlatform=this.platform.apiCode,this.$analytics.trackSearch({term:this.$route.params.term}),this.icons.length||(this.fetchComplete&&this.$analytics.track({event:"Nothing found",category:this.$route.params.platform}),this.fetchData(this.$route.params)),this.$route.params.term!==this.term&&(this.icons=[],this.fetchData(this.$route.params)),this.checkError(),this.parsedParams=Object(c.a)(this.$route.params.platform)},methods:Object(o.a)({},Object(n.b)(["changeSelectPlatform"]),{description:function(t){var e=t.size,r=t.apiCode;return this.$t("PLATFORMS.".concat(r,".DESCRIPTION"),'<p>These icons are <a href="">pixel-perfect</a> at '.concat(e,"×").concat(e," pixels and are available in PNG, SVG, and PDF. Unlike other websites, Icons8 creates most of these icons in-house, ensuring the stable quality.</p>"))},fetchData:function(t){var e=this;return this.fetchComplete=!1,new Promise(function(r){e.isLoading=!0,function(t){var e=t.app,r=t.params,n=t.store,l=t.redirect,d=t.res,h=Object(c.a)(r.platform);return new Promise(function(t){var c=e.$utils.normalizeValue(r.term);n.dispatch("setPlatform",h.$rootPath);var m=n.state.platform.apiCode,f=e.$utils.uppercaseFirstLetter(e.$utils.prettifyValue(c));if(n.state.appInfo.platforms[m]&&"all"!==m){var C=n.getters.hostUrl||"https://icons8.com",v="".concat(C,"/icon/set/").concat(c,"/").concat(m);"all"===m&&(v="".concat(C,"/icon/set/").concat(c)),n.dispatch("updateSEO",{title:e.$t("PLATFORMS.".concat(m,".SEARCH_TITLE"),{term:f},"Free Icon, ".concat(n.state.platform.title)),description:e.$t("WEB_APP.SEO.SEARCH.DESCRIPTION",{term:f}),canonical:v}),n.dispatch("search",{term:c,platform:m,amount:150}).then(function(e){!d||e.icons&&e.icons.length||(d.statusCode=404),t(Object(o.a)({term:c,currentPlatform:r.platform},e,{fetchComplete:!0,parsedParams:h}))}).catch(function(e){console.error("page error",e&&e.message?e.message:e),t({term:c,currentPlatform:r.platform,icons:[],error:{message:e.message}})})}else l(301,encodeURI("/icons/set/".concat(c)))})}({app:e,store:e.$store,params:t}).then(function(t){e.isLoading=!1,e.icons=t.icons,e.fetchComplete=!0,e.icons.length||e.$analytics.track({event:"Nothing found",category:e.$route.params.platform}),e.checkError(t.error),r(),e.$forceUpdate()}).catch(function(t){e.isLoading=!1,console.error("error",t),e.checkError(t),r()})})},fetchNext:function(){var t=this;if(!this.isLoading&&!this.allIconsLoaded){this.isLoading=!0;var e=this.$route.params.term;this.$store.dispatch("search",{term:e,amount:150,page:this.page+1}).then(function(e){t.page++,e.icons.length?e.icons.forEach(function(e){t.icons.push(e)}):t.allIconsLoaded=!0,t.isLoading=!1}).catch(function(e){t.isLoading=!1,t.fetchErrorsCount++,3===t.fetchErrorsCount&&(t.allIconsLoaded=!0),console.error("page error",e&&e.message?e.message:e)})}},checkError:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.error)&&(console.log("this.error",this.error),this.error=void 0)},selectPlatform:function(t){this.changeSelectPlatform();var e=this.$route.params.term;"all"!==t?this.$router.push("/icon/set/".concat(e,"/").concat(this.platforms[t].seoCode)):this.$router.push("/icons/set/".concat(e))}})},d=(r(648),r(1)),component=Object(d.a)(l,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"search-page"},[r("grid-selector-wrap",{attrs:{extended:t.extendedGrid}}),r("div",{staticClass:"app-page-section custom-padding"},[r("h1",{staticClass:"app-title no-wrap",domProps:{innerHTML:t._s(t.title)}}),r("div",{staticClass:"breadcrumbs"},[r("nuxt-link",{staticClass:"item",attrs:{to:"/icons"}},[t._v(t._s(t.$t("ICON.ICONS.ICONS_LABEL")))]),t.formatName?r("span",{staticClass:"item",domProps:{innerHTML:t._s(t.formatName)}}):t._e(),r("span",{staticClass:"item"},[t._v(" / ")]),r("div",{staticClass:"platforms"},[r("app-select",{staticClass:"is-breadcrumb",attrs:{options:Object.values(t.platforms),"title-key":"title","value-key":"apiCode"},on:{change:t.selectPlatform},model:{value:t.currentPlatform,callback:function(e){t.currentPlatform=e},expression:"currentPlatform"}})],1)],1),r("div",{staticClass:"app-page-subtitle is-small is-left",domProps:{innerHTML:t._s(t.description(t.platform))}})]),r("div",{staticClass:"app-page-section custom-padding"},[r("app-native-ads"),r("app-ads")],1),t.fetchComplete&&!t.icons.length?r("div",{staticClass:"app-page-section custom-padding"},[r("nothing-found")],1):t._e(),r("div",{staticClass:"app-page-section custom-padding"},[r("page-scroll",{attrs:{"is-disabled":t.isScrollDisabled,"is-loading":t.isLoading},on:{fetch:t.fetchNext}},[r("icon-grid",{attrs:{icons:t.icons,"grid-style":t.gridStyle,action:"select"}})],1),t.icons.length&&t.allIconsLoaded?r("request-icon"):t._e()],1)],1)},[],!1,null,"639d54b1",null);e.default=component.exports},598:function(t,e,r){var content=r(649);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(8).default)("1a2dee43",content,!0,{sourceMap:!1})},648:function(t,e,r){"use strict";var o=r(598);r.n(o).a},649:function(t,e,r){(t.exports=r(7)(!1)).push([t.i,".search-page[data-v-639d54b1] .page-scroll .page-scroll-spacer:not(.is-loading){height:auto}.search-page .platforms[data-v-639d54b1]{display:inline-block;width:auto}",""])}}]);